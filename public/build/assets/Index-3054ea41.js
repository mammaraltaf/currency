import{k as O,r as _,d as R,c as y,a as d,w as I,u as a,F as E,o as u,Z as K,b as e,t as r,l as V,f as v,i as U,e as F,n as k,g as x,h as z,m as M,v as T,O as w,p as Z,j as G}from"./app-dde26467.js";import{_ as H}from"./AdminLayout-f2e9409d.js";import{P as J}from"./Pagination-c6f6e6c3.js";import Q from"./CreateBank-1227d28b.js";import{D as W}from"./DeleteIcon-8b36f8b6.js";import{E as X}from"./EditIcon-ab241b07.js";import{u as Y}from"./useAPI-162a5f74.js";import{u as ee}from"./notification-8eb2a074.js";import{_ as te}from"./Spinner-b5a8aca4.js";import se from"./EditBank-aeabf1bc.js";import{u as oe}from"./sorting-69f0bf60.js";import{_ as ae}from"./TextInput-f981937c.js";import{_ as ne}from"./_plugin-vue_export-helper-c27b6911.js";import"./ResponsiveNavLink-7e84a44d.js";import"./FlashMessage-95844240.js";import"./CustomSidebar-f7543e53.js";import"./SidebarElement-9f0fe621.js";import"./SelectInput-6b12eab4.js";/* empty css                                                */const $=c=>(Z("data-v-d0561a1e"),c=c(),G(),c),le=$(()=>e("title",null,`
            Admin Panel | Banks
        `,-1)),re={class:"ml-4 md:ml-16"},ie={class:"mt-16 mb-8 text-xl flex items-center justify-between"},ce=$(()=>e("div",null," Banks ",-1)),de={class:"text-sm"},ue={class:"flex items-end gap-3"},pe={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},me={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},be={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},fe={class:"fw-100"},_e={class:"fw-100"},ye={class:"fw-100"},he=$(()=>e("th",{class:"px-6 py-3",scope:"col"}," Actions ",-1)),ge={class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",scope:"row"},ve={class:"px-6 py-4"},ke={class:"px-6 py-4"},xe={class:"px-6 py-4 flex gap-4 items-center"},we={name:"Banks"},$e=Object.assign(we,{props:{banks:{required:!0,type:Object},countries:{required:!0,type:Array}},setup(c){const i=c,m=Y(),C=ee(),q=()=>{i.banks.total++},b=O({}),A=o=>{b.value=o},N=()=>{b.value={}},P=o=>{let s=i.banks.data.findIndex(f=>f.id===o.id);i.banks.data.splice(s,1,o)},B=_(null),D=async o=>{B.value=o.id,m.startRequest();try{const s=await axios.delete("/admin/banks/delete/"+o.id);(s.data.id||s.data.status==="success")&&(C.notify("Bank deleted","success"),o.id="deleted",i.banks.total--)}catch(s){C.notify("Error","error"),m.handleErrors(s)}finally{m.requestCompleted()}};var h=_(1);let n=_("");const S=()=>{w.visit(`?page=${h.value}&q=${n.value}&column=${l.column}&type=${l.type}`)};var p=_(!1);const l=oe(),g=o=>{n.value=n.value!=null?n.value:"",p.value=!0,l.sortValues(o),w.visit(`?page=${h.value}&q=${n.value}&column=${l.column}&type=${l.type}`)&&(p.value=!1)},j=()=>{w.visit("?q=")};return R(()=>{n.value=new URLSearchParams(window.location.search).get("q");let o=new URLSearchParams(window.location.search).get("page");h.value=o??1}),(o,s)=>(u(),y(E,null,[d(a(K),{title:"Banks"},{default:I(()=>[le]),_:1}),d(H,null,{default:I(()=>{var f;return[e("div",re,[e("div",ie,[ce,e("div",de," Page: "+r(i.banks.current_page)+" | total: "+r(i.banks.total)+" | from: "+r(i.banks.from)+", to: "+r(i.banks.to),1)]),d(Q,{onBankAdded:q,countries:c.countries},null,8,["countries"]),(f=b.value)!=null&&f.id?(u(),V(se,{key:0,onEndEdit:N,onBankEdited:P,"edited-bank":b,countries:c.countries},null,8,["edited-bank","countries"])):v("",!0),e("div",ue,[d(ae,{modelValue:a(n),"onUpdate:modelValue":s[0]||(s[0]=t=>U(n)?n.value=t:n=t),class:"mb-8",label:"Search",placeholder:"Search",title:"searchValue",onKeyup:F(S,["enter"])},null,8,["modelValue","onKeyup"]),e("button",{onClick:S,type:"button",class:"mb-8 flex items-center text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"}," Search "),a(n)?(u(),y("button",{key:0,onClick:j,type:"button",class:"mb-8 flex items-center text-blue-700 bg-white border border-blue-700 hover:bg-gray-100 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"}," Clear ")):v("",!0)]),e("div",pe,[e("table",me,[e("thead",be,[e("tr",null,[e("th",{class:k(["px-6 py-3",a(p)?"disabled":"clickable"]),scope:"col",onClick:s[1]||(s[1]=t=>g("id"))},[x(" #ID "),e("span",fe,r(a(l).column=="id"?"("+a(l).type+")":""),1)],2),e("th",{class:k(["px-6 py-3",a(p)?"disabled":"clickable"]),scope:"col",onClick:s[2]||(s[2]=t=>g("label"))},[x(" Bank Name "),e("span",_e,r(a(l).column=="label"?"("+a(l).type+")":""),1)],2),e("th",{class:k(["px-6 py-3",a(p)?"disabled":"clickable"]),scope:"col",onClick:s[3]||(s[3]=t=>g("country"))},[x(" Country "),e("span",ye,r(a(l).column=="country"?"("+a(l).type+")":""),1)],2),he])]),e("tbody",null,[(u(!0),y(E,null,z(i.banks.data,t=>M((u(),y("tr",{key:t.id,class:"bg-white border-b dark:bg-gray-900 dark:border-gray-700"},[e("th",ge,r(t.id),1),e("td",ve,r(t.label),1),e("td",ke,r(t.country?t.country.label:"N/A")+" ("+r(t.country?t.country.code:"N/A")+") ",1),e("td",xe,[d(W,{onClick:L=>D(t),class:"w-8 hover:cursor-pointer hover:bg-red-600 hover:text-white rounded-md p-1"},null,8,["onClick"]),d(X,{onClick:L=>A(t),class:"w-8 hover:cursor-pointer hover:bg-blue-600 hover:text-white rounded-md p-1"},null,8,["onClick"]),a(m).isLoading.value&&B.value===t.id?(u(),V(te,{key:0,class:"button-spinner-center action-btn"})):v("",!0)])])),[[T,t.id!=="deleted"]])),128))])])]),d(J,{links:i.banks.links},null,8,["links"])])]}),_:1})],64))}}),Me=ne($e,[["__scopeId","data-v-d0561a1e"]]);export{Me as default};
